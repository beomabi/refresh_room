<!doctype html>
<html lang="ja" xml:lang="ja">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="-1">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobage: footer-color" content="none">
    <link rel="stylesheet" href='../../12008305/css/game/pex.css' media="all">
    <script src='../../12008305/js/jquery-2.2.2.min.js'></script>
    <script src='../../12008305/js/ilibrary.js'></script>
    <script src='../../12008305/js/pex-petit-1.2.0.js'></script>
    <script src='../../12008305/js/pex_common.js'></script>
    <script src='../../12008305/js/min/petit_manager.min.js'></script>
    <script src='../../12008305/js/min/refresh_room.min.js'></script>
    <title>아이돌마스터 신데렐라 걸즈</title>
    <link rel="stylesheet" type="text/css" href="../../12008305/css/rich/refresh_room.css" media="all">
    <script type='text/javascript'>
        var se_flg = 0,
            bgm_flg = 0,
            chrome_app_flg = 0,
            chrome_app_extension_id = 'dnacabmnfmejgfffmcehejcmiciinpej';
    </script>
    <script type='text/javascript' src='../../12008305/js/app_sound.js'></script>
    <link rel="stylesheet" type="text/css" href="../../css/base.css?20171116" />
</head>

<body>
    <article>
        <section id="pageContainer" class="m-Btm0">
            <div id="bg_space" class="large-size"></div>
            <div id="jsEyeCatch">
                <div style="margin-top:120px"><img src='../../12008305/image_sp/petit_cg/ui/sprite/loading/working_1.gif' width="195" height="139"></div>
                <div style="margin-top:-80px"><img src='../../12008305/image_sp/petit_cg/ui/sprite/loading/loading.gif' width="102" height="102"></div>
            </div>
            <div class="effect-container large-size">
                <div id="animation-container"></div>
                <div id="dialogue" class="animation"></div>
                <div class="story" style="text-align:left;">
                    <div class="comment-container">
                        <span></span><br>
                        <span></span><br>
                        <span></span><br>
                    </div>
                    <a href="#" class="story_btn" style="display:none;"></a>
                </div>
            </div>
            <div id="name-plate" rel="3" class="large-size">
                <div class="plate-area" rel="1">
                    <img class="plate" src='../../12008305/image_sp/ui/refresh_room/name_plate/3.png'>
                </div>
                <div class="plate-area" rel="2">
                    <img class="plate" src='../../12008305/image_sp/ui/refresh_room/name_plate/5.png'>
                </div>
                <div class="plate-area" rel="3">
                    <img class="plate" src='../../12008305/image_sp/ui/refresh_room/name_plate/2.png'>
                </div>
            </div>
            <a id="next" class="next large-size" href="#"></a>
        </section>
    </article>
    <script type="text/javascript">
        (function() {
            var refreshRoom = window.refreshRoom || {};
            var ua = navigator.userAgent;
            var in_chome = false;
            try {
                in_chrome = (chrome in window);
            } catch (e) {
                in_chrome = false;
            }
            refreshRoom.is_pc = in_chrome || (window.chrome ? true : false) && (window.chrome.webstore) || ua.indexOf('ChromeApp') > -1 || ua.indexOf('AAWebview') > -1;
            refreshRoom.old_os = ua.match(/(OS [3-7]|Android [2-4])/);
            refreshRoom.is_multiply = false;
            refreshRoom.returnUrl = '../../';
            refreshRoom.dialogueSwf = '../../petit_refresh_room_balloon_swf';
            refreshRoom.data = {
                "id": "16",
                "refresh_room_id": "40",
                "start_time": "2018\/01\/12 15:00:00",
                "refresh_room_name": "メロウ・イエローの<BR>○○修業？",
                "idol_set_id_1": "47",
                "idol_accessory_set_id_1": "7",
                "idol_set_id_2": "48",
                "idol_accessory_set_id_2": "7",
                "idol_set_id_3": "49",
                "idol_accessory_set_id_3": "7",
                "idol_set_id_4": "",
                "idol_accessory_set_id_4": "",
                "idol_set_id_5": "",
                "idol_accessory_set_id_5": "",
                "idol_name_1": "水本ゆかり",
                "idol_kana_1": "みずもとゆかり",
                "name_plate_id_1": "3",
                "idol_name_2": "椎名法子",
                "idol_kana_2": "しいなのりこ",
                "name_plate_id_2": "5",
                "idol_name_3": "中野有香",
                "idol_kana_3": "なかのゆか",
                "name_plate_id_3": "2",
                "idol_name_4": "",
                "idol_kana_4": "",
                "idol_name_5": "",
                "idol_kana_5": "",
                "idol_avatar": {
                    "1": {
                        "attribute": "1",
                        "body_type": "1",
                        "breast_size": "2",
                        "short_name": "ゆかり",
                        "image_url_list": {
                            "expression_1098": "../../12008305/js/petit_cg/expression/1098.js",
                            "hair_10098": "../../12008305/js/petit_cg/hair/10098.js",
                            "costume_1_20098": "../../12008305/js/petit_cg/costume/1/20098.js"
                        },
                        "sub_type_list": {
                            "head": null,
                            "hand": null,
                            "leg": null
                        },
                        "take_sub_type": {
                            "head": 0,
                            "hand": 0,
                            "leg": 0
                        },
                        "petit_csv_info_list": {
                            "costume_1_20098": {
                                "image_path": "http:\/\/sp.pf-img-a.mbga.jp\/12008305\/?guid=ON&amp;url=http%3A%2F%2F125.6.169.35%2Fidolmaster%2Fimage_sp%2Fitem%2Fl%2Fpetit_cg%2F20098",
                                "accessory_name": "制服A・ゆかり",
                                "explanation": "ゆかりの学校の制服です。<br>清楚な雰囲気のシンプルだけど、上品なデザイン。",
                                "type_id": "2"
                            }
                        },
                        "petit_csv_sub_type_info_list": []
                    },
                    "2": {
                        "attribute": "1",
                        "body_type": "1",
                        "breast_size": "2",
                        "short_name": "法子",
                        "image_url_list": {
                            "expression_1014": "../../12008305/js/petit_cg/expression/1014.js",
                            "hair_10014": "../../12008305/js/petit_cg/hair/10014.js",
                            "costume_1_20014": "../../12008305/js/petit_cg/costume/1/20014.js"
                        },
                        "sub_type_list": {
                            "head": null,
                            "hand": null,
                            "leg": null
                        },
                        "take_sub_type": {
                            "head": 0,
                            "hand": 0,
                            "leg": 0
                        },
                        "petit_csv_info_list": {
                            "costume_1_20014": {
                                "image_path": "http:\/\/sp.pf-img-a.mbga.jp\/12008305\/?guid=ON&amp;url=http%3A%2F%2F125.6.169.35%2Fidolmaster%2Fimage_sp%2Fitem%2Fl%2Fpetit_cg%2F20014",
                                "accessory_name": "ピンクカーデコーデ・法子",
                                "explanation": "ピンク色のカーデが印象的な法子の私服です。<br>ボリュームたっぷりなスカートも素敵!",
                                "type_id": "2"
                            }
                        },
                        "petit_csv_sub_type_info_list": []
                    },
                    "3": {
                        "attribute": "1",
                        "body_type": "1",
                        "breast_size": "2",
                        "short_name": "有香",
                        "image_url_list": {
                            "expression_1040": "../../12008305/js/petit_cg/expression/1040.js",
                            "hair_10040": "../../12008305/js/petit_cg/hair/10040.js",
                            "costume_1_20040": "../../12008305/js/petit_cg/costume/1/20040.js"
                        },
                        "sub_type_list": {
                            "head": null,
                            "hand": null,
                            "leg": null
                        },
                        "take_sub_type": {
                            "head": 0,
                            "hand": 0,
                            "leg": 0
                        },
                        "petit_csv_info_list": {
                            "costume_1_20040": {
                                "image_path": "http:\/\/sp.pf-img-a.mbga.jp\/12008305\/?guid=ON&amp;url=http%3A%2F%2F125.6.169.35%2Fidolmaster%2Fimage_sp%2Fitem%2Fl%2Fpetit_cg%2F20040",
                                "accessory_name": "道着・有香",
                                "explanation": "有香が通っている空手道場の道着です。<br>黒帯の腕前!",
                                "type_id": "2"
                            }
                        },
                        "petit_csv_sub_type_info_list": []
                    }
                }
            };
            var default_swf = '../../petit_refresh_room_character_swf';
            for (var i in refreshRoom.data.idol_avatar) {
                refreshRoom.data.idol_avatar[i].swf = default_swf;
            }
            refreshRoom.detail = [{
                "id": "1",
                "refresh_room_id": "40",
                "idol_disp_1": "",
                "idol_disp_2": "",
                "idol_disp_3": "",
                "idol_disp_4": "",
                "idol_disp_5": "",
                "motion1": "",
                "motion2": "smile_left",
                "motion3": "out",
                "motion4": "",
                "motion5": "",
                "bg_image": "1",
                "message": "…라는 게 \n내가 추천하는 도너츠 레시피야♪",
                //"…っていうのが、\nオススメのドーナツレシピだよ♪",
                "message_window_type": "",
                "message_arrow_1": "",
                "message_arrow_2": "1",
                "message_arrow_3": "",
                "message_arrow_4": "",
                "message_arrow_5": ""
            }, {
                "id": "2",
                "refresh_room_id": "40",
                "idol_disp_1": "",
                "idol_disp_2": "",
                "idol_disp_3": "",
                "idol_disp_4": "",
                "idol_disp_5": "",
                "motion1": "nod_smile",
                "motion2": "",
                "motion3": "",
                "motion4": "",
                "motion5": "",
                "bg_image": "",
                "message": "네, 이렇게 하면 저도 만들 수 \n있을 것 같아요. 가르쳐주셔서 \n고마워요, 노리코 양.",
                //"はい、これなら私でも作れそうです。\n教えてくれてありがとうございます、\n法子ちゃん。",
                "message_window_type": "",
                "message_arrow_1": "1",
                "message_arrow_2": "",
                "message_arrow_3": "",
                "message_arrow_4": "",
                "message_arrow_5": ""
            }, {
            }];
            petitManager.loaded_action = function() {
                if (refreshRoom.is_multiply) $('.animation').css({
                    zoom: "50%"
                });
                var margin = window.innerHeight - parseInt($('#bg_space > img').css('height'));
                if (margin > 0) $('#pageContainer').css({
                    "margin-top": margin * 0.5
                });
                var $effect_container = $('.effect-container');
                var $dialogue = $('#dialogue');
                var dialogue_top = parseInt($dialogue.css('top'));
                var dialogue_ratio = refreshRoom.dialogue.scaleSizeCheck() / 320;
                $dialogue.css('top', dialogue_top * dialogue_ratio);
                if (!$effect_container.hasClass('large-size')) {
                    $dialogue.css('top', dialogue_top * dialogue_ratio);
                    var $animation = $('.animation:not(#dialogue)');
                    var anime_top = parseInt($animation.css('top'));
                    $animation.css('top', anime_top * dialogue_ratio);
                }
                $('#jsEyeCatch').hide();
                refreshRoom.dialogue.startSwf();
            };
            petitManager.setWidth(refreshRoom.dialogue.scaleSizeCheck(refreshRoom.is_pc));
            refreshRoom.bg_list = {
                "1": "../../12008305/image_sp/ui/refresh_room/bg/bg1.jpg",
                "": "../../12008305/image_sp/ui/refresh_room/bg/bg.jpg"
            };
            var image = new Image;
            var multiply = refreshRoom.is_pc || window.devicePixelRatio >= 1.5 && !refreshRoom.old_os ? 0.5 : 1;
            var size = refreshRoom.dialogue.scaleSizeCheck() * multiply;
            var ratio = size / 320;
            image.width = size;
            var effect_container = $('.effect-container');
            effect_container.css({
                width: size,
                height: size,
                bottom: parseInt(effect_container.css('bottom')) * ratio
            });
            image.onload = function() {
                $('#bg_space').append(image);
                var height = $(this).css('height');
                $(this).parent().css('height', height);
                $(image).css('top', parseInt($(image).css('top')) * ratio);
                $('#name-plate').css({
                    "-webkit-transform": "scale(" + ratio + ")"
                })
                petitManager.setCharacters(refreshRoom.data.idol_avatar);
                refreshRoom.dialogue.setMotion();
            }
            image.src = refreshRoom.bg_list[refreshRoom.detail[0].bg_image];
            //console.log(refreshRoom);
        })();

        function playText() {
            if (window.refreshRoom == void 0) return;
            refreshRoom.dialogue.comment_deferred.resolve();
        }

        function motion_callback(index, motion) {
            var filtered_plate = $('.plate-area[rel=' + index + ']');
            if (filtered_plate.css('display') == 'none') filtered_plate.show();
            if (refreshRoom.dialogue.motion_wait) $('#next').trigger('click');
            refreshRoom.dialogue.motion_wait = false;
        }
    </script>
    <style>
    </style>
</body>

</html>
